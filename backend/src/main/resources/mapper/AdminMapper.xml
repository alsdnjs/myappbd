<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="myapp.backend.domain.admin.admin.mapper.AdminMapper">

    <!-- 관리자 정보 조회 (username 포함) -->
    <select id="getAdminInfo" parameterType="int" resultType="myapp.backend.domain.admin.admin.vo.AdminVO">
        SELECT 
            a.admin_id,
            a.user_id,
            a.admin_level,
            a.created_at,
            u.username
        FROM admin a
        LEFT JOIN user u ON a.user_id = u.user_id
        WHERE a.user_id = #{user_id}
    </select>

    <!-- 관리자 권한 확인 -->
    <select id="isAdmin" parameterType="int" resultType="boolean">
        SELECT COUNT(*) > 0 FROM admin WHERE user_id = #{user_id}
    </select>

</mapper>
